@using appSchool.Repositories
@using System.IO

@*@section Head {
        <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
    }*@


@model modelTeacherPersonalInfo

@{
    Html.EnableUnobtrusiveJavaScript(true);
    Html.EnableClientValidation(true);


}


<script>

    function UpdateSuccessfull(data) {

        //alert(data.Resultmsg);
        //  $("#RegistrationSplitter_3_CC").html(data.ResultData);
        var mTeacherIDs = TeacherIDs.GetText();
        if (mTeacherIDs.toString() == "") {
            alert("Please Select Teachers");
            return;

        }

        $.ajax({
            url: "/TeacherRegistration/EditPersonaldetailbyClick",
            type: "POST",
            data: { mTeacherID: mTeacherIDs },
            datatype: "json",
            beforeSend: (function (data) {
                //  loadingPanelStudentRegistration.Show();
            }),
            success: function (data) {
                $("#divpopupteacherupdate").html(data.ResultData);
                //var winHeight = document.getElementById('RegistrationSplitter_1_CC').offsetHeight;
                //GridStudents.SetHeight(winHeight - 10);
            },
            error: function () {
            }
        }).done(function (data) {
            // loadingPanelStudentRegistration.Hide();
        });

    }

</script>

<div style="position:center">
    @using (Ajax.BeginForm("UpdateProfileInfo", "TeacherRegistration",
        new AjaxOptions
        {
            HttpMethod = "POST",
            OnBegin = "loadingPanelTeacherInfo.Show();",
            OnComplete = "loadingPanelTeacherInfo.Hide();",
            UpdateTargetId = "contentPersonal",
            InsertionMode = InsertionMode.Replace,
            OnSuccess = "UpdateSuccessfull(data)"
        },
        new
        {
            id = "validationForm1",
            //@class = "edit_form",
            //style = "height: 200px; position:relative; width: 100%;",
            //enctype = "multipart/form-data"
        }
        ))
    {
        <div id="contentPersonal" class="edit_form">
            @Html.Partial("PersonalInfoEditPartial", Model)
        </div>
    }
</div>



@Html.DevExpress().LoadingPanel(
    settings =>
    {
        settings.Name = "loadingPanelTeacherInfo";
        settings.Modal = true;
        settings.ContainerElementID = "";
        settings.Styles.LoadingDiv.BackColor = System.Drawing.Color.White;
    }).GetHtml()