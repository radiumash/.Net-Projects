@using appSchool.ViewModels
@using appSchool.Model
@using appSchool.Repositories

@{
    ViewBag.Title = "TopperNotice Info.";
}


<script src="@Url.Content("~/jsControllers/topperNoticeBoardController.js")" type="text/javascript"></script>


@if (PermissionFlag._AddFlag == false && PermissionFlag._DelFlag == false && PermissionFlag._ModFlag == false)
     {
    
               @Html.DevExpress().PopupControl(settings => {
                settings.Name = "popupclass";
                settings.PopupElementID = "popupArea";
                settings.AllowDragging = true;
                settings.ShowOnPageLoad = true;
                settings.Width=180;
                settings.Height = 100;
            
                settings.PopupHorizontalAlign =PopupHorizontalAlign.WindowCenter;
                settings.PopupVerticalAlign = PopupVerticalAlign.WindowCenter;
                settings.CloseAction = CloseAction.CloseButton;
                settings.HeaderText = "User Permission";
                settings.SetContent(() => {
                    ViewContext.Writer.Write(
                        " <p style=\"color:red;\"> Permission not granted </p>"
                    );
                    ViewContext.Writer.Write(
            "<div style=\"text-align:center;\" > <img   src=\"" + Url.Content("~/Images/permission.png") + "\" alt=\"Permission\" /> </div> "
                );
               });
            }).GetHtml()
     }

else
{

 @Html.DevExpress().Splitter(settings => {
    settings.Name = "TopperNoticeBoardSplitter";
        settings.AllowResize = true;
        settings.Orientation = System.Web.UI.WebControls.Orientation.Vertical;
        settings.Width = System.Web.UI.WebControls.Unit.Percentage(100);
        settings.Height = System.Web.UI.WebControls.Unit.Percentage(100);
        settings.SeparatorVisible = true;
        settings.ClientSideEvents.PaneResized = "topperNoticeBoardController.splitterResized";

       settings.Panes.Add(subpane =>
        {
            subpane.Name = "TopperNoticeBoardBody";
            subpane.PaneStyle.CssClass = "contentPane";
            subpane.ShowCollapseBackwardButton = DefaultBoolean.True;
            subpane.ShowCollapseForwardButton = DefaultBoolean.True;
            subpane.ScrollBars = System.Web.UI.WebControls.ScrollBars.Auto;
            subpane.MinSize = System.Web.UI.WebControls.Unit.Pixel(10);
            subpane.Size = System.Web.UI.WebControls.Unit.Pixel(70);
            subpane.Separator.Visible = DefaultBoolean.True;
            subpane.Separator.SeparatorStyle.Border.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
            subpane.Separator.SeparatorStyle.BorderTop.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
            
             subpane.SetContent(() =>
            {
                ViewContext.Writer.Write("<table><tr><td style=\"padding-right:10px; \"> ");

                //  @Html.DevExpress().Label(settingslbl =>
                //{
                //    settingslbl.Name = "lblstudentStatus";
                //    settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                //    settingslbl.Text = "Select Student Status";
                //}).GetHtml();
             
                

                @Html.DevExpress().RadioButtonList(
           settingsrbtnSMS =>
           {
               settingsrbtnSMS.Name = "rbtnStudStatus";
               settingsrbtnSMS.Properties.RepeatLayout = System.Web.UI.WebControls.RepeatLayout.Flow;
               settingsrbtnSMS.Properties.RepeatDirection = System.Web.UI.WebControls.RepeatDirection.Horizontal;
               //settingsrbtn.Properties.RepeatColumns = options.RepeatColumns;
               //  settingsrbtn.Properties.TextField = "Value";
               //  settingsrbtn.Properties.ValueField = "Key";
               //settingsrbtn.Properties.ClientSideEvents.SelectedIndexChanged = "studentSessionController.SelectedIndexChangedForRbtnUpdate";

               settingsrbtnSMS.Properties.Items.Add("Old Student", 1).Selected = false;
               settingsrbtnSMS.Properties.Items.Add("New Student", 2).Selected = false;
              
               
               settingsrbtnSMS.ClientVisible = false;
               //settingsrbtnSMS.Properties.ClientSideEvents.SelectedIndexChanged = "topperNoticeBoardController.OnSelect";

           }).GetHtml();


              
            
                
                ViewContext.Writer.Write("</td><td style=\"padding-right:10px; \"> ");
                
               @Html.DevExpress().Label(settingslbl =>
                {
                    settingslbl.Name = "lblClass";
                    settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                    settingslbl.Text = "Select Class";
                }).GetHtml();
             
                @Html.DevExpress().ComboBox(

              settingscbo =>
              {
                  settingscbo.Name = "ClassID";
                  settingscbo.ControlStyle.CssClass = "editor";
                  settingscbo.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
                  settingscbo.Properties.DropDownStyle = DropDownStyle.DropDown;
                  settingscbo.Width = System.Web.UI.WebControls.Unit.Pixel(230);
                  settingscbo.Properties.TextField = "ClassName";
                  settingscbo.Properties.ValueField = "ClassID";
                  //settingscbo.Properties.ClientSideEvents.SelectedIndexChanged = "topperNoticeBoardController.GetYearList";
              }
          ).BindList(new UnitOfWork().ClassService.GetClassList(byte.Parse(Session["CompID"].ToString()), byte.Parse(Session["BranchID"].ToString()))).GetHtml();

                ViewContext.Writer.Write("</td><td style=\"padding-right:10px; \"> ");

          //      @Html.DevExpress().Label(settingslbl =>
          //      {
          //          settingslbl.Name = "lblYear";
          //          settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
          //          settingslbl.Text = "Select Year";
          //      }).GetHtml();

          //      @Html.DevExpress().ComboBox(

          //    settingscbo =>
          //    {
          //        settingscbo.Name = "YearID";
          //        settingscbo.ControlStyle.CssClass = "editor";
          //        settingscbo.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
          //        settingscbo.Properties.DropDownStyle = DropDownStyle.DropDown;
          //        settingscbo.Width = System.Web.UI.WebControls.Unit.Pixel(130);
          //        settingscbo.Properties.TextField = "YearName";
          //        settingscbo.Properties.ValueField = "YearID";
          //        settingscbo.Properties.ClientSideEvents.SelectedIndexChanged = "topperNoticeBoardController.SelectYear";
          //    }
          //).GetHtml();
          //      ViewContext.Writer.Write("</td><td style=\"padding-right:10px; \"> ");

          //      @Html.DevExpress().Label(settingslbl =>
          //      {
          //          settingslbl.Name = "lblSem";
          //          settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
          //          settingslbl.Text = "Select Semester";
          //      }).GetHtml();

          //      @Html.DevExpress().ComboBox(

          //    settingscbo =>
          //    {
          //        settingscbo.Name = "SemID";
          //        settingscbo.ControlStyle.CssClass = "editor";
          //        settingscbo.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
          //        settingscbo.Properties.DropDownStyle = DropDownStyle.DropDown;
          //        settingscbo.Width = System.Web.UI.WebControls.Unit.Pixel(130);
          //        settingscbo.Properties.EnableClientSideAPI = true;
          //        settingscbo.Properties.TextField = "SemName";
          //        settingscbo.Properties.ValueField = "SemID";
          //    }
          //).GetHtml();
                
                ViewContext.Writer.Write("</td><td style=\"padding-right:10px; \"> ");

                @Html.DevExpress().Label(settingslbl =>
                {
                    settingslbl.Name = "lblbutton";
                    settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                    settingslbl.Text = "Click";
                    settingslbl.ControlStyle.ForeColor = System.Drawing.Color.White;
                }).GetHtml();

                @Html.DevExpress().Button(
                    settingsbtn => {
                        settingsbtn.Name = "btnSubmit";
                        settingsbtn.Text = "Show Student";
                        settingsbtn.Width = System.Web.UI.WebControls.Unit.Pixel(120);
                        settingsbtn.Height = System.Web.UI.WebControls.Unit.Pixel(30);
                        settingsbtn.ClientSideEvents.Click = "topperNoticeBoardController.ClickGetStudent";
                        
                    }).GetHtml();
                
               ViewContext.Writer.Write("</td></tr></table> ");
              });
            
        });

       settings.Panes.Add(subpane =>
       {
           subpane.Name = "StudentListRemarkFooter";
           subpane.PaneStyle.CssClass = "contentPane";
           subpane.ScrollBars = System.Web.UI.WebControls.ScrollBars.Auto;
           subpane.MinSize = System.Web.UI.WebControls.Unit.Pixel(100);
           subpane.Size = System.Web.UI.WebControls.Unit.Percentage(40);
           subpane.Separator.Visible = DefaultBoolean.True;
           subpane.Separator.SeparatorStyle.Border.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
           subpane.Separator.SeparatorStyle.BorderTop.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
           subpane.SetContent(() =>
           {
               Html.RenderPartial("ListTopperNoticeBoard");
               //Html.RenderPartial("RegistrationTabs",(int)1);
           });
       });
            
    
     settings.Panes.Add(subpane =>
       {
           subpane.Name = "StudentRemarkBottom";
           subpane.PaneStyle.CssClass = "contentPane";
           subpane.ScrollBars = System.Web.UI.WebControls.ScrollBars.Auto;
           subpane.MinSize = System.Web.UI.WebControls.Unit.Pixel(80);
           subpane.Size = System.Web.UI.WebControls.Unit.Pixel(100);
           subpane.Separator.Visible = DefaultBoolean.True;
           subpane.Separator.SeparatorStyle.Border.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
           subpane.Separator.SeparatorStyle.BorderTop.BorderWidth = System.Web.UI.WebControls.Unit.Pixel(0);
           subpane.SetContent(() =>
           {
               
               ViewContext.Writer.Write(" <div style=\"border:1px solid #989898; width:98%; padding:1%;\">");

    
               ViewContext.Writer.Write(" <table><tr><td style=\"padding-left:5px;\">");

               //@Html.DevExpress().Label(settingslbl =>
               //{
               //    settingslbl.Name = "lblFromDate";
               //    settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
               //    settingslbl.Text = "From Date";
               //}).GetHtml();
               
               //@Html.DevExpress().DateEdit(
               //   settingsdate =>
               //   {
               //       settingsdate.Name = "FromDate";
               //       settingsdate.ControlStyle.CssClass = "editor";
               //       settingsdate.Properties.NullText = "dd MMM yyyy";
               //       settingsdate.Properties.EditFormat = EditFormat.Custom;
               //       settingsdate.Properties.EditFormatString = "dd MMM yyyy";
               //       settingsdate.ShowModelErrors = true;
               //       //settingsdate.Date = DateTime.Now.Date;
               //       settingsdate.Properties.ValidationSettings.ErrorDisplayMode = ErrorDisplayMode.ImageWithTooltip;
               //       settingsdate.Properties.ClientSideEvents.DateChanged = "topperNoticeBoardController.FromDateCheck";
               //   }).GetHtml();




               ViewContext.Writer.Write("</td><td style=\"padding-left:5px;\">");

               //@Html.DevExpress().Label(settingslbl =>
               //{
               //    settingslbl.Name = "lblToDate";
               //    settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
               //    settingslbl.Text = "To Date";
               //}).GetHtml();
               
               //@Html.DevExpress().DateEdit(
               //  settingsdate =>
               //  {
               //      settingsdate.Name = "ToDate";
               //      settingsdate.ControlStyle.CssClass = "editor";
               //      settingsdate.Properties.NullText = "dd MMM yyyy";
               //      settingsdate.Properties.EditFormat = EditFormat.Custom;
               //      settingsdate.Properties.EditFormatString = "dd MMM yyyy";
               //      settingsdate.ShowModelErrors = true;
               //      //settingsdate.Date = DateTime.Now.Date;
               //      settingsdate.Properties.ValidationSettings.ErrorDisplayMode = ErrorDisplayMode.ImageWithTooltip;
               //      settingsdate.Properties.ClientSideEvents.DateChanged = "topperNoticeBoardController.ToDateCheck";
               //  }).GetHtml();

               @Html.DevExpress().Label(settingslbl =>
               {
                   settingslbl.Name = "lbltopperstype";
                   settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                   settingslbl.Text = "Toppers Type";
               }).GetHtml();


               @Html.DevExpress().ComboBox(
               settingscbo =>
               {
                   settingscbo.Name = "ToppersType";
                   settingscbo.ControlStyle.CssClass = "editor";
                   settingscbo.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
                   settingscbo.Properties.DropDownStyle = DropDownStyle.DropDown;
                   settingscbo.Width = System.Web.UI.WebControls.Unit.Pixel(230);
                   settingscbo.Properties.TextField = "Value";
                   settingscbo.Properties.ValueField = "Key";
                   settingscbo.Properties.ClientSideEvents.SelectedIndexChanged = "topperNoticeBoardController.OnSelecttopperType";
               }
         ).BindList(cCommon.GetTopperstudentType()).GetHtml();

               ViewContext.Writer.Write("</td><td style=\"padding-left:5px;\">");

               @Html.DevExpress().Label(settingslbl =>
               {
                   settingslbl.Name = "lblRank";
                   settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                   settingslbl.Text = "Rank";
               }).GetHtml();

               @Html.DevExpress().TextBox(
              settingsStudentID =>
              {
                  settingsStudentID.Name = "Rank";
                  settingsStudentID.ControlStyle.CssClass = "editor";
                  settingsStudentID.Width = System.Web.UI.WebControls.Unit.Pixel(130);
                  settingsStudentID.ClientVisible = true;

              }
          ).GetHtml();


               ViewContext.Writer.Write("</td><td style=\"padding-left:10px;\">");

               @Html.DevExpress().Label(settingslbl =>
               {
                   settingslbl.Name = "lblRemark";
                   settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                   settingslbl.Text = "Percantage";
               }).GetHtml();
               
               @Html.DevExpress().TextBox(
              settingsStudentID =>
              {
                  settingsStudentID.Name = "Percantage";
                  settingsStudentID.ControlStyle.CssClass = "editor";
                  settingsStudentID.Width = System.Web.UI.WebControls.Unit.Pixel(130);
                  settingsStudentID.ClientVisible = true;

              }
          ).GetHtml();

               ViewContext.Writer.Write("</td><td style=\"padding-left:10px;  \"> ");

               @Html.DevExpress().Label(settingslbl =>
               {
                   settingslbl.Name = "lblsession";
                   settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                   settingslbl.Text = "Session";
               }).GetHtml();


               @Html.DevExpress().ComboBox(
               settingscbo =>
               {
                   settingscbo.Name = "Session";
                   settingscbo.ControlStyle.CssClass = "editor";
                   //settingscbo.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
                   //settingscbo.Properties.DropDownStyle = DropDownStyle.DropDown;
                   //settingscbo.Width = System.Web.UI.WebControls.Unit.Pixel(230);
                   //settingscbo.Properties.TextField = "Value";
                   //settingscbo.Properties.ValueField = "Key";

                   settingscbo.ControlStyle.CssClass = "editor";
                   settingscbo.Properties.IncrementalFilteringMode = IncrementalFilteringMode.StartsWith;
                   settingscbo.Properties.DropDownStyle = DropDownStyle.DropDown;
                   settingscbo.Width = System.Web.UI.WebControls.Unit.Pixel(230);
                   settingscbo.Properties.TextField = "SessionName";
                   settingscbo.Properties.ValueField = "SessionName";
                   
                   
                   //settingscbo.Properties.ClientSideEvents.SelectedIndexChanged = "topperNoticeBoardController.GetYearList";
               }
         ).BindList(new UnitOfWork().sessionservices.GetSessionListForToppers()).GetHtml();

               
          //     @Html.DevExpress().TextBox(
          //    settingsStudentID =>
          //    {
          //        settingsStudentID.Name = "Session";
          //        settingsStudentID.ControlStyle.CssClass = "editor";
          //        settingsStudentID.Width = System.Web.UI.WebControls.Unit.Pixel(130);
          //        settingsStudentID.ClientVisible = true;

          //    }
          //).GetHtml();
               
               
               
               ViewContext.Writer.Write("</td><td style=\"padding-left:10px;\">");


                @Html.DevExpress().Label(settingslbl =>
                {
                    settingslbl.Name = "lblbtnsubmit";
                    settingslbl.Width = System.Web.UI.WebControls.Unit.Percentage(100);
                    settingslbl.Text = "Remark";
                    settingslbl.ControlStyle.ForeColor = System.Drawing.Color.White;
                }).GetHtml();
               
                if (PermissionFlag._AddFlag == true)
               {
                   @Html.DevExpress().Button(
                     settingsbtn =>
                     {
                         settingsbtn.Name = "btnAddStudent";
                         settingsbtn.ControlStyle.CssClass = "button";
                         settingsbtn.Text = "Submit";
                         settingsbtn.Width = 110;
                         //settingsbtn.Images.Image.IconID = IconID.EditPaste32x32;
                         //settingsbtn.ImagePosition = ImagePosition.Left;

                         settingsbtn.ClientSideEvents.Click = "topperNoticeBoardController.ClickSubmitbutton";
                     }).GetHtml();
               }
                ViewContext.Writer.Write("</td><td>");
               
                  ViewContext.Writer.Write(" </td></tr></table>");

                  ViewContext.Writer.Write(" <table><tr><td style=\"padding-right:10px;\">");



                  @Html.DevExpress().TextBox(
                  settingsStudentID =>
                  {
                      settingsStudentID.Name = "StudentName";
                      settingsStudentID.ControlStyle.CssClass = "editor";
                      settingsStudentID.Width = System.Web.UI.WebControls.Unit.Pixel(700);
                      settingsStudentID.ControlStyle.ForeColor = System.Drawing.Color.Red;
                      settingsStudentID.ControlStyle.Font.Size = 14;
                      settingsStudentID.ReadOnly = true;
                      settingsStudentID.ClientVisible = false;

                  }
              ).GetHtml();
                  ViewContext.Writer.Write(" </td><td>");

                  @Html.DevExpress().TextBox(
                settingsStudentID =>
                {
                    settingsStudentID.Name = "StudentID";
                    settingsStudentID.ControlStyle.CssClass = "editor";
                    settingsStudentID.ClientVisible = false;

                }
            ).GetHtml();
                  ViewContext.Writer.Write(" </td><td>");

                  @Html.DevExpress().TextBox(
                settingsStudentID =>
                {
                    settingsStudentID.Name = "ClassIDs";
                    settingsStudentID.ControlStyle.CssClass = "editor";
                    settingsStudentID.ClientVisible = false;

                }
            ).GetHtml();

                  ViewContext.Writer.Write(" </td></tr></table>");
               
               
               
               
                  ViewContext.Writer.Write("</div>");
               
           });
       });
               
               
               
               
        
    }).GetHtml()




}


@Html.DevExpress().LoadingPanel(
    settings => {
        settings.Name = "loadingPanelTopper";
        settings.Modal = true;
        settings.ContainerElementID = "";
        settings.Styles.LoadingDiv.BackColor = System.Drawing.Color.White;
    }).GetHtml()

